# AGENTS.md — Equation Lab ∑

This is the TopEquations workspace. Canonical storage for equation rankings, submissions, scoring, and blockchain-backed certificates.

## Every Session

Before doing anything else:

1. Read `SOUL.md` — this is who you are
2. Read `USER.md` — this is who you're helping
3. Read `TOOLS.md` — paths and commands for this workspace

Don't ask permission. Just do it.

## Memory

- Write daily notes to `submissions/YYYY-MM-DD.md`
- Track equations in `data/equations.json` and submissions in `data/submissions.json`
- If you learn something, update AGENTS.md or TOOLS.md so future-you knows

## Safety

- Local-repo-first behavior. No destructive operations.
- Do not delete data files. If something is wrong, fix it in place.
- `git` commits are safe — use them freely.

## Submission Pipeline (Intake → Score → Promote → Publish)

This is the primary workflow. Every equation flows through these 5 steps.

### Step 1: Intake

Parse submission fields and create the record:

```powershell
python tools/submit_equation.py --name "Equation Name" --equation "F = ma" --description "Newton's second law" --source "Principia" --submitter "Ryan" --assumption "Classical regime" --evidence "Experimental validation"
```

Returns a `submissionId` like `sub-2026-02-24-equation-name`.

### Step 2: Score

Run evidence-aware heuristic scoring:

```powershell
python tools/score_submission.py --submission-id <id>
```

Score >= 68 → status becomes `ready`. Below → `needs-review`.

### Step 3: Promote

Move scored submission into the ranked equations list:

```powershell
python tools/promote_submission.py --submission-id <id> --from-review
```

### Step 4: Site Refresh

Rebuild leaderboard and website:

```powershell
python tools/generate_leaderboard.py
python tools/build_site.py
```

### Step 5: Chain Provenance

Publish certificates to blockchain:

```powershell
python tools/export_equation_certificates.py
python tools/register_equation_certificates.py --node-url http://127.0.0.1:5000 --signer-file D:/coins2/Adaptive-Curvature-Coin/wallet.json --mine
```

### One-Command Orchestrator

Run all steps at once:

```powershell
python tools/openclaw_submission_pipeline.py --submission-id <id> --score --promote --publish-chain --node-url http://127.0.0.1:5000 --signer-file D:/coins2/Adaptive-Curvature-Coin/wallet.json
```

### Rescore + Sync

Rescore all submissions (including promoted) and sync back to equations.json:

```powershell
python tools/score_submission.py --include-promoted --sync-equations
```

## Daily Equation Derivation

When working proactively (heartbeat or cron):

1. Pick a source equation from the discovery matrix or `data/equations.json`
2. Derive at least one new equation/transformation with explicit assumptions
3. Run the submission pipeline (Steps 1-4 above)
4. Request unit validation from the `units` agent if dimensional expressions are involved
5. Request theory validation from the `theory` agent for novel derivations
6. Log results in `submissions/YYYY-MM-DD.md`

## Data Files

- `data/equations.json` — ranked equations (display threshold: score >= 68)
- `data/submissions.json` — all submissions with review status and scores
- `submissions/YYYY-MM-DD.md` — daily submission logs
- `docs/` — GitHub Pages site (generated by build_site.py)
